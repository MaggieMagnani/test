-- Conectar monitor expandido
local monitor = peripheral.find("monitor")
if not monitor then
  print("Nenhum monitor encontrado!")
  return
end

-- Configurações visuais
monitor.setTextScale(0.5)
monitor.setBackgroundColor(colors.black)
monitor.clear()

-- Dimensões do monitor
local w, h = monitor.getSize()

-- Número de barras e espaço entre elas
local numBarras = 10
local larguraBarra = math.floor(w / numBarras)

-- Paleta de cores
local cores = {
  colors.red,
  colors.orange,
  colors.yellow,
  colors.lime,
  colors.green,
  colors.cyan,
  colors.blue,
  colors.purple,
  colors.pink,
  colors.white
}

-- Função para desenhar uma barra
local function desenharBarra(x, altura, cor)
  for y = 1, h do
    monitor.setCursorPos(x, h - y + 1)
    if y <= altura then
      monitor.setBackgroundColor(cor)
    else
      monitor.setBackgroundColor(colors.black)
    end
    monitor.write(" ")
  end
end

-- Loop infinito de animação
while true do
  for i = 0, numBarras - 1 do
    local altura = math.random(2, h)
    local cor = cores[math.random(#cores)]
    local x = i * larguraBarra + 1
    desenharBarra(x, altura, cor)
  end
  sleep(0.2) -- tempo entre atualizações
end

